<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Male_Fashion Timeless Jewelry & Elegant Rings for Every Occasion">
    <meta name="keywords" content="Male_Fashion, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Add Product | Flow in Franchise USA</title>
    <link rel="shortcut icon" href="../img/favicon.png" type="image/x-icon">
    <!-- Google Font -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
        integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Css Styles -->
    <link rel="stylesheet" href="../css/style.css" type="text/css">
</head>

<body>
    <!-- =========== MAIN CODE START ============= -->
    <main>

        <div class="d-flex align-items-start container-fluid p-3 h_100vh">
        <div id="nav_pills" class="col-lg-2 h-100"></div>
            <div class="tab-content col-lg-10 " id="v-pills-tabContent">
                <!-- =========== HOME CODE START ============== -->
                <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel"
                    aria-labelledby="v-pills-home-tab" tabindex="0">

                    <div class="col-12 mx-0">
                        <!-- ========= SEARCH CODE START ========= -->
                         <div class="container-fluid mb-3">
                            <div class="row">
                                <div class="col-lg-11">
                                    <input type="search" class="form-control" placeholder="Seach Here">
                                </div>
                                <div class="col-lg-1">
 <button id="logout-btn" class="bg_grey border-0 shadow-sm px-3 py-2" >Logout</button>

                                </div>
                            </div>
                         </div>
                        <!-- ========= SEARCH CODE End ========= -->
          <!-- ====== TOP CARD'S CODE START ======== -->
                            <div class="container-fluid">
                                <div class="row justify-content-between">
                                    <div class="col-lg-3 col-12">
                                        <div
                                            class="col-12 border px-2 py-2 rounded-3">
                                            <div
                                                class="d-flex flex-row justify-content-between align-items-center">
                                                <h5>Total Products </h5>
                                                <div
                                                    class="bg_light p-2 rounded-3">
                                                    <i
                                                        class="fa-solid fa-gift  "></i>
                                                </div>
                                            </div>
                                            <p class="fs-4 " id="product_lenght"></p>
                                        </div>
                                    </div>
                                    <div class="col-lg-3 col-12">
                                        <div
                                            class="col-12 border px-2 py-2 rounded-3">
                                            <div
                                                class="d-flex flex-row justify-content-between align-items-center">
                                                <h5>Categories </h5>
                                                <div
                                                    class="bg_light p-2 rounded-3">
                                                    <i class="fa fa-list-alt"
                                                        aria-hidden="true"></i>
                                                </div>
                                            </div>
                                            <p class="fs-4 " id="category_lenght"></p>
                                        </div>
                                    </div>
                                    <div class="col-lg-3 col-12">
                                        <div
                                            class="col-12 border px-2 py-2 rounded-3">
                                            <div
                                                class="d-flex flex-row justify-content-between align-items-center">
                                                <h5>Buyer </h5>
                                                <div
                                                    class="bg_light p-2 rounded-3">
                                                    <i
                                                        class="fa-solid fa-user"></i>
                                                </div>
                                            </div>
                                            <p class="fs-4 ">0</p>
                                        </div>
                                    </div>
                                    <div class="col-lg-3 col-12">
                                        <div
                                            class="col-12 border px-2 py-2 rounded-3">
                                            <div
                                                class="d-flex flex-row justify-content-between align-items-center">
                                                <h5>Total Users </h5>
                                                <div
                                                    class="bg_light p-2 rounded-3">
                                                    <i
                                                        class="fa-solid fa-gift  "></i>
                                                </div>
                                            </div>
                                            <p class="fs-4 ">0</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- ====== TOP CARD'S CODE END ======== -->
                        <!-- ========== ADD PRODUCT CODE START ============= -->
                          <div class="container py-5">
    <div class="card shadow">
      <div class="card-header bg-dark text-white">
        <h4 class="mb-0">Add New Product</h4>
      </div>
      <div class="card-body">
        <form id="addProductForm">
          <div class="row g-3">
            <div class="col-md-4">
              <label class="form-label">Product ID*</label>
              <input type="text" id="productId" class="form-control" required>
            </div>
            <div class="col-md-4">
              <label class="form-label">Product Name*</label>
              <input type="text" id="productName" class="form-control" required>
            </div>
            <div class="col-md-4">
              <label class="form-label">Category*</label>
              <select id="category" class="form-select" required>
                <option value="">Select Category</option>
                <!-- Firebase Categories will load here -->
              </select>
            </div>
            <div class="col-md-4">
              <label class="form-label">Price (USD)*</label>
              <input type="number" step="0.01" id="price" class="form-control" required>
            </div>
            <div class="col-md-4">
              <label class="form-label">Quantity*</label>
              <input type="number" id="quantity" class="form-control" required>
            </div>
            <div class="col-md-6">
              <label class="form-label">Image URL 1*</label>
              <input type="url" id="image1" class="form-control" required>
            </div>
            <div class="col-md-6">
              <label class="form-label">Image URL 2</label>
              <input type="url" id="image2" class="form-control">
            </div>
            <div class="col-12">
              <label class="form-label">Product Description</label>
              <textarea id="description" class="form-control" rows="3"></textarea>
            </div>
          </div>
          <div class="text-end mt-4">
            <button type="button" class="btn btn-primary" onclick="submitProduct()">Add Product</button>
          </div>
        </form>
      </div>
    </div>
  </div>
                        <!-- ========== ADD PRODUCT CODE END ============= -->

                    

                    </div>
                </div>
                <!-- =========== HOME CODE START ============== -->

                <div class="tab-pane fade" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab"
                    tabindex="0">...</div>
                <div class="tab-pane fade" id="v-pills-disabled" role="tabpanel" aria-labelledby="v-pills-disabled-tab"
                    tabindex="0">...</div>
                <div class="tab-pane fade" id="v-pills-messages" role="tabpanel" aria-labelledby="v-pills-messages-tab"
                    tabindex="0">...</div>
                <div class="tab-pane fade" id="v-pills-settings" role="tabpanel" aria-labelledby="v-pills-settings-tab"
                    tabindex="0">...</div>
            </div>
        </div>
    </main>
    <!-- ============= MAIN CODE END ============= -->
   
    <!-- Js Plugins -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous">
        </script>

    <!-- Firebase and App Scripts -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";

  import { getFirestore, collection, getDocs,getDoc,doc ,deleteDoc, updateDoc,addDoc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";
    const firebaseConfig = {
      apiKey: "AIzaSyC1zoSG4uMziRnA1Iaiz5r-9UBbHwJTRD8",
  authDomain: "veroroma-1a37b.firebaseapp.com",
  projectId: "veroroma-1a37b",
  storageBucket: "veroroma-1a37b.appspot.com",
  messagingSenderId: "738682652885",
  appId: "1:738682652885:web:7dabde8d7285773e757a5c",
  measurementId: "G-LVGP1FPRMQ"
};
const app = initializeApp(firebaseConfig);


    const db = getFirestore(app);

    // ========== DOM References ==========
    const categorySelect = document.addEventListener("DOMContentLoaded", async () => {
      const categorySelect = document.getElementById("category");
      const categorySnapshot = await getDocs(collection(db, "categories"));
      
      categorySnapshot.forEach(doc => {

        
        const option = document.createElement("option");
        option.value = doc.data().name;
        option.textContent = doc.data().name;
        categorySelect.appendChild(option);
      });
    });
 window.submitProduct = async () => {
      const id = document.getElementById("productId").value.trim();
      const name = document.getElementById("productName").value.trim();
      const price = parseFloat(document.getElementById("price").value);
      const quantity = parseInt(document.getElementById("quantity").value);
      const image1 = document.getElementById("image1").value.trim();
      const image2 = document.getElementById("image2").value.trim();
      const category = document.getElementById("category").value;
      const description = document.getElementById("description").value.trim();

      if (!id || !name || !price || !quantity || !image1 || !category) {
        alert("Please fill in all required fields.");
        return;
      }

      const product = {
        id,
        name,
        price,
        quantity,
        image1,
        image2,
        category,
        description,
        createdAt: new Date()
      };

      try {
        await addDoc(collection(db, "products"), product);
        alert("Product added successfully!");
        document.getElementById("addProductForm").reset();
      } catch (err) {
        console.error("Error adding product:", err);
        alert("Failed to add product.");
      }
    };
   
    </script>
    <script src="js/app.js" type="module"></script>
</body>

</html>